## 第7章-Linux磁盘与文件系统管理

##### 重点回顾

- 一个可以被挂载的数据通常称为【文件系统， filesystem】而不是硬盘分区（ partition）；
- 基本上 Linux 的传统文件系统为 ext2，该文件系统内的信息主要有：
  - 超级区块：记录此文件系统的整体信息，包括 inode/区块的总量、使用量、剩余量，以及文件系统的格式与相关信息等；
  - inode：记录文件的属性，一个文件占用一个inode，同时记录次文件的数据所在的区块号码；
  - 数据区块：实际记录文件的内容，若文件太大时，会占用多个数据区块。
- ext2 文件系统的数据存取为索引式文件系统（indexed allocation）；
- 需要碎片整理的原因就是文件写入的数据区块太过离散，此时文件读取的性能将会变得很差，这个时候可以通过碎片整理将同一个文件所属的区块集合在一起。
- ext2 文件系统主要有：引导扇区、超级区块、 inode对照表、区块对照表、 inode表、数据区块等六大部分；
- 数据区块是用来放置文件内容数据地方，在 ext2文件系统中所支持的区块大小有 1K/2K及4K三种；
- inode 记录文件的属性/权限等数据，其他重要特性为：每个 inode大小均为固定，有128/256字节两种基本容量。每个文件都仅会占用一个 inode而已，因此文件系统能够建立的文件数量与 inode有关；
- 文件的数据区块在记录文件的实际数据，目录的数据区块则在记录该目录下面文件名与其 inode号码对照表；
- 日志式文件系统（journal）会多出一块记录区，随时记载文件系统的主要活动，可加快系统恢复时间；
- Linux 文件系统为增加性能，会让内存作为磁盘高速缓存；
- 硬链接只是多了一个文件名对该 inode 号码的链接而已；
- 符号链接就类似 Windows 的快捷方式功能；
- 磁盘的使用必须要经过：分区、格式化与挂载，分别常用的命令为：gdisk、mkfs、mount 3个命令；
- 启动自动挂载可参考 /etc/fstab 之设置，设置完毕务必使用 mount -a 测试语法是否正确。

